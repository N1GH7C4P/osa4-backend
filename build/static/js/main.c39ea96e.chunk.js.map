{"version":3,"sources":["components/Blog.js","components/BlogForm.js","services/blogs.js","components/Notification.js","App.js","index.js"],"names":["Blog","_ref","blog","removeFunction","react_default","a","createElement","className","title","author","url","likes","name","value","id","onClick","BlogForm","titleHandler","authorHandler","likesHandler","urlHandler","addFunction","onSubmit","onChange","type","services_blogs","axios","get","then","response","data","newObject","post","object","put","concat","removeId","delete","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","blogs","setBlogs","_useState3","_useState4","newTitle","setNewTitle","_useState5","_useState6","newAuthor","setNewAuthor","_useState7","_useState8","newUrl","setNewUrl","_useState9","_useState10","newLikes","setNewLikes","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","blogService","initialBlogs","removeBlog","event","preventDefault","window","confirm","target","filter","components_Notification","components_BlogForm","blogObject","find","oldBlog","updatedBlogObject","catch","error","blogToRemove","index","indexOf","splice","returnedBlog","console","log","map","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c39ea96e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Blog = ({ blog, removeFunction}) => {\r\n\r\n  return (\r\n    <div className = 'blog'>\r\n      <br></br>\r\n      <div>{blog.title}</div>\r\n      <div>{blog.author}</div>\r\n      <div>{blog.url}</div>\r\n      <div>{blog.likes}</div>\r\n      <button name = {blog.title} value={blog.id} onClick={removeFunction}> Delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog","import React from 'react'\r\n\r\nconst BlogForm = ({title, author, likes, url, titleHandler, authorHandler, likesHandler, urlHandler, addFunction}) => {\r\n  return (\r\n    <form onSubmit={addFunction}>\r\n        <div>Blog title:  </div>\r\n        <input\r\n          value={title}\r\n          onChange={titleHandler}\r\n        />\r\n        <div>Author: </div>\r\n        <input\r\n          value={author}\r\n          onChange={authorHandler}\r\n        />\r\n        <div>Blog url:  </div>\r\n        <input\r\n          value={url}\r\n          onChange={urlHandler}\r\n        />\r\n        <div>likes: </div>\r\n        <input\r\n          value={likes}\r\n          onChange={likesHandler}\r\n        />\r\n        <div>\r\n          <button type=\"submit\">tallenna</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default BlogForm","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, object) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, object)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (removeId) => {\r\n    const request = axios.delete(`${baseUrl}/${removeId}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport BlogForm from './components/BlogForm'\nimport blogService from './services/blogs'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [blogs, setBlogs] = useState([]) \n  const [newTitle, setNewTitle ] = useState('')\n  const [newAuthor, setNewAuthor ] = useState('')\n  const [newUrl, setNewUrl ] = useState('')\n  const [newLikes, setNewLikes ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const rows = () => blogs.map(blog =>\n    <Blog\n      key={blog.id}\n      blog={blog}\n      removeFunction={removeBlog}\n    />\n  )  \n\n  useEffect(() => {\n    blogService\n      .getAll()\n        .then(initialBlogs => {\n        setBlogs(initialBlogs)\n    })\n  }, [])\n\n  const removeBlog = (event) => {\n    event.preventDefault()\n    if(window.confirm(`Poistetaanko ${event.target.title}?`)){\n      blogService\n        .remove(event.target.value)\n          .then(setBlogs(blogs.filter(blog => blog.id !== event.target.value)))\n      setErrorMessage(`${event.target.title} poistettiin tietokannasta.`)\n    }\n  }\n\n  const addBlog = (event) => {\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: newLikes\n    }\n    if(blogs.find(blog => blog.title === newTitle)){\n      const oldBlog = blogs.find(blog => blog.title === newTitle)\n      if(window.confirm(`${newTitle} on jo luettelossa. Haluatko korvata blogin?`)){\n            const updatedBlogObject = {\n              title: newTitle,\n              author: newAuthor,\n              url: newUrl,\n              likes: newLikes,\n              id: oldBlog.id\n            }\n      \n            blogService\n              .update(updatedBlogObject.id,updatedBlogObject)\n              .catch(error => {\n                setErrorMessage(`Blogi \"${updatedBlogObject.title}\" on jo poistettu palvelimelta.`)\n              })\n\n              const blogToRemove = blogs.find(blog => blog.id === updatedBlogObject.id)\n              const index = blogs.indexOf(blogToRemove)\n              blogs.splice(index,1,updatedBlogObject)\n              setNewTitle(\"\")\n              setNewAuthor(\"\")\n              setNewLikes(\"\")\n              setNewUrl(\"\")\n              setErrorMessage(`Blogin \"${updatedBlogObject.title}\" tiedot päivitettiin.`)\n            }\n        }\n        else{\n          blogService\n            .create(blogObject)\n              .then(returnedBlog => {\n                setBlogs(blogs.concat(returnedBlog))\n                setNewTitle(\"\")\n                setNewAuthor(\"\")\n                setNewUrl(\"\")\n                setNewLikes(\"\")\n                setErrorMessage(`${returnedBlog.title} lisättiin puhelinluetteloon.`)\n              })\n              .catch(error => {\n                console.log(error.response.data)\n                setErrorMessage(error.response.data)\n              })\n        }\n  }\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n\n  const handleLikesChange = (event) => {\n    setNewLikes(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <Notification message={errorMessage} />\n\n      <h1>Blogilista</h1>  \n\n      <BlogForm\n        title = {newTitle}\n        author = {newAuthor}\n        url = {newUrl}\n        likes = {newLikes}\n        titleHandler = {handleTitleChange}\n        authorHandler = {handleAuthorChange}\n        urlHandler = {handleUrlChange}\n        likesHandler = {handleLikesChange}\n        addFunction = {addBlog}\n      />\n      {rows()}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nconsole.log(\"Rendering app.\")\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}
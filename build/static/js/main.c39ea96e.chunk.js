(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(13),r=n.n(i),u=n(2),o=function(e){var t=e.blog,n=e.removeFunction;return l.a.createElement("div",{className:"blog"},l.a.createElement("br",null),l.a.createElement("div",null,t.title),l.a.createElement("div",null,t.author),l.a.createElement("div",null,t.url),l.a.createElement("div",null,t.likes),l.a.createElement("button",{name:t.title,value:t.id,onClick:n}," Delete"))},c=function(e){var t=e.title,n=e.author,a=e.likes,i=e.url,r=e.titleHandler,u=e.authorHandler,o=e.likesHandler,c=e.urlHandler,d=e.addFunction;return l.a.createElement("form",{onSubmit:d},l.a.createElement("div",null,"Blog title:  "),l.a.createElement("input",{value:t,onChange:r}),l.a.createElement("div",null,"Author: "),l.a.createElement("input",{value:n,onChange:u}),l.a.createElement("div",null,"Blog url:  "),l.a.createElement("input",{value:i,onChange:c}),l.a.createElement("div",null,"likes: "),l.a.createElement("input",{value:a,onChange:o}),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"tallenna")))},d=n(3),s=n.n(d),f=function(){return s.a.get("/api/blogs").then(function(e){return e.data})},m=function(e){return s.a.post("/api/blogs",e).then(function(e){return e.data})},v=function(e,t){return s.a.put("".concat("/api/blogs","/").concat(e),t).then(function(e){return e.data})},g=function(e){return s.a.delete("".concat("/api/blogs","/").concat(e)).then(function(e){return e.data})},p=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},b=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),d=Object(u.a)(r,2),s=d[0],b=d[1],E=Object(a.useState)(""),h=Object(u.a)(E,2),k=h[0],j=h[1],O=Object(a.useState)(""),w=Object(u.a)(O,2),H=w[0],S=w[1],B=Object(a.useState)(""),C=Object(u.a)(B,2),F=C[0],y=C[1],D=Object(a.useState)(null),x=Object(u.a)(D,2),J=x[0],N=x[1];Object(a.useEffect)(function(){f().then(function(e){i(e)})},[]);var A=function(e){e.preventDefault(),window.confirm("Poistetaanko ".concat(e.target.title,"?"))&&(g(e.target.value).then(i(n.filter(function(t){return t.id!==e.target.value}))),N("".concat(e.target.title," poistettiin tietokannasta.")))};return l.a.createElement("div",null,l.a.createElement(p,{message:J}),l.a.createElement("h1",null,"Blogilista"),l.a.createElement(c,{title:s,author:k,url:H,likes:F,titleHandler:function(e){b(e.target.value)},authorHandler:function(e){j(e.target.value)},urlHandler:function(e){S(e.target.value)},likesHandler:function(e){y(e.target.value)},addFunction:function(e){e.preventDefault();var t={title:s,author:k,url:H,likes:F};if(n.find(function(e){return e.title===s})){var a=n.find(function(e){return e.title===s});if(window.confirm("".concat(s," on jo luettelossa. Haluatko korvata blogin?"))){var l={title:s,author:k,url:H,likes:F,id:a.id};v(l.id,l).catch(function(e){N('Blogi "'.concat(l.title,'" on jo poistettu palvelimelta.'))});var r=n.find(function(e){return e.id===l.id}),u=n.indexOf(r);n.splice(u,1,l),b(""),j(""),y(""),S(""),N('Blogin "'.concat(l.title,'" tiedot p\xe4ivitettiin.'))}}else m(t).then(function(e){i(n.concat(e)),b(""),j(""),S(""),y(""),N("".concat(e.title," lis\xe4ttiin puhelinluetteloon."))}).catch(function(e){console.log(e.response.data),N(e.response.data)})}}),n.map(function(e){return l.a.createElement(o,{key:e.id,blog:e,removeFunction:A})}))};console.log("Rendering app."),r.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c39ea96e.chunk.js.map